clientcert-sample-java: Java クライアント証明書認証サンプル
=============================================================

Java クライアント証明書認証機能を確認するサンプルアプリです。  
本サンプルプログラムは Java コマンドラインアプリケーションです。

BaaS サーバ 事前準備
---------------------

* システム設定 ＞ 編集 から クライアント証明書認証設定のサーバーキーに HAProxy に設定した X-SSL-Validate-Token の値を設定してください。
* テナント設定 ＞ クライアント証明書認証 ＞ 編集 から クライアント証明書認証を有効にしてください。
* 下記のいずれかの手順でクライアント証明書認証に使用するユーザの設定を行ってください。
    * テナント設定 ＞ クライアント証明書認証 ＞ 編集 から 証明書ユーザ自動登録を有効にしてください。
    * ユーザ ＞ ユーザ一覧 ＞ 追加 から クライアント証明書でのアクセス にチェックを入れてユーザを登録してください。

アプリケーション 事前設定
--------------------------

下記のファイルを本アプリケーションから読み込み可能な場所に格納してください。

* クライアント証明書(.p12形式: 秘密鍵+クライアント証明書)
* 信頼するCAの証明書(.pem形式)

Config.java.sample を Config.java にリネームして下記項目を設定してください。

* TENANT_ID
* APP_ID
* APP_KEY
* ENDPOINT_URI
* CLIENT_CERT
* CLIENT_CERT_PASSWORD
* TRUSTED_CA_CERT
* OBJECT_BUCKET_NAME

Proxy が必要な場合は PROXY_HOST, PROXY_PORT も設定してください。

実行方法
---------
プログラムの起動は以下のようにして実施してください。

    $ ./gradlew run

クライアント証明書認証を使用したオブジェクトのCRUD操作の実行結果が標準出力に出力されます。

